{% extends 'base-calendar.html' %}

{% block content %}
    <div class="container-fluid">
        <div id="calendar"></div>
    </div>

    <script>
          document.addEventListener('DOMContentLoaded', function() {
              var calendarEl = document.getElementById('calendar');
              var calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                  selectable: true,
                dateClick: function() {
                    window.location.href = "{% url 'calendar:meal-create' %}";
                },
                contentHeight: 'auto',
                customButtons: {
                    mealCreate: {
                        text: 'Schedule a Meal',
                        click: function() {
                            window.location.href = "{% url 'calendar:meal-create' %}";
                        }
                    }
                },
                headerToolbar: {
                  left: 'prev,next today mealCreate',
                  center: 'title',
                  right: 'dayGridMonth,timeGridWeek,timeGridDay',
                    },
                events: '{% url 'calendar:json-list' %}',
                  });
                  calendar.render();
                });

          /*
          // add the responsive classes after page initialization
          window.onload = function () {
              $('.fc-toolbar.fc-header-toolbar').addClass('row col-lg-12');
          };

          // add the responsive classes when navigating with calendar buttons
          $(document).on('click', '.fc-button', function(e) {
              $('.fc-toolbar.fc-header-toolbar').addClass('row col-lg-12');
          }); */
        </script>
{% endblock %}